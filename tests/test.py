from PIL import Image

from ascii_art import image_to_ascii

einstein = """;;;;;;+;;;++;;;,,,,,,,,,,,,,'',;%%;,+%%%SSSSSSSSSSSSSSSSSSSSSSSSSS%%%%%%?%%%%%;,%;..                
;++;;++;;+;;;,,,,,;,,,,,,,,,',+%S;,?%%SSSSSSSSSSSSSSSSSSSSSSSSSSSSSS%%%%%%%%%SS+,?'.                
+?+;;;+;;;;;;;;,,,,,,,,,,,,,;?%%;,%%%SSSSSSSSSSS##SSSSSS#SSSSSSSSSSSS%%%%%%%%SS%?%;.             ...
??+?++++;;;;;;,,,,,,,,,,,,,;+??,,++%SSSSSS###S####S#########SSSSSSSSSSS%%%%%%%S%%;%;'             ..
????++++;;,,;;,,,,,,''',,;;;+;;,;?%%SSSS###S#######S######SSSSSSSSSSSSSS%%%%%SSS%?;;,'.           ..
????++;;;;;,,;,,,,,,,,;+?%%?;,,,+?%%SSS#######S############SSSSSSSSSSSS%%%%%%SSSS%?,.'''.           
+??+;;;;;;;,,,,,,'',,+%%;,,,,,,,+%%%SSSS#####SS##########SSSSSSSSSSSSSSSS%%%%SSSS%%+'..''     .     
++;;;;+;;,;;;,,'',''?%,,,,,,,;';?%%%%SSS#####SS######SSS####SSSSSSSSSSSSSS%%SSSSS%%;,.  ''.   .     
++;;+;;;;,,,;,,,',';?,,,;+,,?+',?,''';+%SS###SSS##SSS%?+?SS%SSSSSSSSSSSSSS%SSSSS%%%;,'. .''         
?+;+?+;;;,;;,,,''',?,',;??,,%+',;.',;%%%S#S#SSS##SSSS%%?,;++?%SSSSSSSSSSSS%SSSSS%%?%,,,'..'.        
%+??++++;;;;,;,''';?,',;?;,;%?.;;;%%%%SSSS##SS###S####SSSSSSSSSSSSSSSSSSS%%SSSSS%%?+;,','.''.       
%%++;;++;;;,,,,,,,,,',;??,,+%;';%SSSSSSSSS######@####SS###SSSSSSSSSSSSSSSS%SSSS%%?+++;'''. ...      
;%+;;;++;;;,,,,,,'''',+?;,,;%;'?SSS%%%S%%SSS##@@##SSSSSSSSSSSSSSS%SSSSSSSSSSSSS%%%%;;?;,,'   .      
?%%;+;+;;;;,,,''''''',?;,,,;?,'%SS%+++%%%%%S#@@###SSSS%%%?%%S##SS%%SSSSSSSSSSSSSSS%%;,;+;,'.        
%?%++?+;;,,,,'''''.'',?,,,,;+',%S%,,;+?%SS;?S#@#SSSSSS%?%%%%+%SSS%%SSSSSSSSSSSSSSSS%?+;+%%,.        
%%%;;;;;;,,,'''......'?,'',+;.,%%,,%%,,?%S?,S##SSS%%%%+??;+%%%SSSS%SSSSS%SSSSSSSS%%S%+++?;;+'      .
?%?;;;,,,,,'''.......,?',',%;';%?,%S'.'+%%%,S#SSSSS%%%SS''.;;%SSSSSSSSSS%SSSSSSSS%%%%%;;%%;,,'.     
;%++;;;,,''''.......',+',,,?,';%%;;%;';%%%;+SSSSSS#S%%S%'.'%%%SSSSSSSSS%%SSSSSSSS%%%?%%?+??,'.'.    
+%,,;;,,''''......''',;.''';',;%;,,,+?%%S%'%SSSSSSSS%%%?+?%%%%SSSSSSSSSS%%SSSS%%%%%%%??%?+,+,..'    
?%,',,,,''''......''.,,.''',',+,+%++%%%%?',%SSSSSSSS%%%%%%%%%%%%%SSSSSSS%%SSSS%%%%%%%%?;??,,;' ..   
%%,','',,'''...'....',,..''..;?;+%%%%%%%;';SSS%SSSSSSS%SSSSSS%%SSSSSSSS%%%SS%%%%%;;%%%%%+%?,;,. ..  
%+..'''''''....'...','''.'...;%%%SSSS%SS,,%SSS%%SSSS##SSSSSSS%%SSSS%%S%%%%%%%%?%%%,,;%%%%%%;,;'...  
%;. ..'''.'........''''..,...;%SSSSSSSS%'%SSSS%%SSSSS##S#SSSSSSSSSSS%%%%%%%%%%+%%%??';?%%%%%++,...  
%,  . ..''.......'''.'...,...?SSSSSSSS%,+SSSSS%%%SSSSS######S#SSSSS%%%%%%?;;%+?SS%?+;,?%S%S%??+'... 
;'     .........'''......'...?SSSS%SSS%,SSSSSSS%?%%############SSSS%%%%%%+,?%%SSSS%,%??%SSS%+%%,'.. 
'.   ...........''......''...+SSSSSSSS;;SS####S%%%%S###########SSSS%%%%%?;;%%SSSSSS%%S,%SSSS?%S;'.. 
'.......................'.'..;SS%%SS#%,,%S#@#SSSSSS%SS######S##SSSS%%+%%?+;%SSSSS%SSSS+;SSSS%%S?,.. 
;'........................'..;%%%SS##;'';SSSSS%%%SS%SSS#######SSSSS%%+%%??++%SSSS%%SSS%?SSSS+?%?,'' 
;'. ...............'...'','..;%?%S##S%+,';%%%%SSS%%%SSSS####SSSSSSSS%+%%??;%SSS%%S%%SS%%#SSS+;%+,'. 
?,.......  .........',,,,,'..+%;%SSS%%S%%%%SSSSSSSSSSSSSSS#SSSSSSSSS?+%%%?;SSS%%%SSSSS%%#SSS;,%?''. 
;'..;%'.'..'. ...........''.'?%;%SS%%SSSSS#S%SSSSSSSSSSS%SSSSSSSSSSS??%%%?;SSS%+?%%SS%%SSSS%,;%,''..
,,. .''.''....  ........'''..?%;%%%%SSSSSSSSSS#SSSSSSSS%SSSSSSSSSSS%?%%%%+%SSS?;??+?%%SS%S%??%;'....
;'  .  .................''...;%;%?%%SSSSSSSSSSSSSSSSSSSS%SSSSSSSSSS%+?%%%;%#S%?;,,%%%%%+;S%?,'......
'.   ..,''...................,%+%+;?%%SS%SSSSSSSSS%%SSSSSSSSSSSSSSS%+%%%%+,%S;'..';%?%+''+;' .......
.    ....'. .................'?+%%;,,;+?+??%+%%%%%%%%%%SSSSSSSSSSSS%+%S%%+'.'      .''...,'.........
.  .. ..   ..................'?++SS+,''',,;,,,;;%%+,;;;%%SSSSSSSSSS%;%S%?;'            .............
        ......................;%,S#S%,',??%%??%%%%%+,''+%SSSSSSSSSS%?SS?;'            .............,
       .......................'%%?SSS%'?%%%%%%%%%S%+''?%%%%SSSSSSSS+%S%,.            .............,,
         ......................;S+SS#%'%S%%%%%%%%%?,,%%S#S%SS%SSSS%%S%,.             ...........',,,
          .....................'%%%##S'%S%%%%%%%SS;+%%SSSS%SS%SSSS%S%'              ...........'',,,
          ......................'S%S#S'+SS%%%%%%S?,?+%SSSS%S%%SSS%%%'             ... ........',,,,,
           ......................+%%#S',SSS%%%?%%;;+%SSSSSSS%S#SS%?.             ...........''';,,,,
         .'''''''................'%?SS,,SSS%%%?%%;?%SSSSSSSS%SSS;'               .. .......',,,,,,,'
       .',,,,''''............'....,%%S;.%SS%%%%%;?%SSSS#SS#S%#S;. ..          ........ ...',,,,,;,,,
     .',,,,,,,,'''..........'''....;;S%.,%S%%%%?;%SSSSS##SS%SS, .......      .. .  .... .',,,,,,,,,,
   .',,,,,,,,,,,,''.......''''''...',?S+.?S%%%%;S#SSSS###S%S%' ........   ..............',;;,,,,,,''
 .',,,,,,,,,,,,,,'''.....''''''''...''?S,'%%%%;S##SSSSS#SS%,. ........  ..........  ...,,;;,,,,;,''.
',,,,,,,,,,,,,,,,''''..'''''''''''....'%%'',;;S#@##SSSSSS,. .......................  ',,,;,,,,,,''..
,,,,,,,,,,,,,,,,,,,'''''''''''''''.....'?%;;%S######S#S+'......................... .',,,,,',,,,,'..'
,;,,,,,,,,,,,,,,,,'''''''''''''''''.....'?%SSSSSSSSSS%'............................',,,,,,,;;,,'...'
"""  # noqa: W291


def test_image_to_ascii():
    image = Image.open("examples/images/einstein.jpg")
    params = {
        "width": 100,
        "height": 50,
        "font": "Courier",
        "normalize": True,
        "invert": True,
    }
    ascii = image_to_ascii(image, **params)
    assert ascii == einstein
